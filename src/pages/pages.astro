---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/Hero.astro";
import Topics from "../components/Topics.astro";
import Steps from "../components/Steps.astro";
import Tiles from "../components/Tiles.astro";
import CTA from "../components/CTA.astro";
import Subscribe from "../components/Subscribe.astro";
import FeaturedSection from "../components/FeaturedSection.astro";

import content from "../data/pages/pages.yaml";
import sitewide from "../data/sitewide.yaml";

const ourApproach = {
  ...sitewide.ourApproach,
  items: sitewide.ourApproach.items.filter((item) => content.approachIds.includes(item.id)),
};

const otherOfferings = {
  ...sitewide.otherOfferings,
  items: sitewide.otherOfferings.items.filter((item) => content.offeringIds.includes(item.id)),
};
---

<Layout>
  <Hero {...content.hero} />
  <Steps {...content.moreWithLess} />
  <hr />
  <CTA {...content.relyOnPages} />
  <FeaturedSection {...content.AtoFeature} />
  <Topics {...content.whatYouGet} />
  <Tiles {...content.whatYouCanBuild} />
  <CTA {...content.noRFP} />
  <Tiles {...otherOfferings} />
  <Topics {...ourApproach} />
  <Tiles {...sitewide.supportTiles} />
  <Subscribe {...sitewide.newsletter} />
</Layout>
